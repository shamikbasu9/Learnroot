import{u as V,a as A,r as u,o as l,c as o,b as t,d as L,e as p,w as f,f as n,v as b,g as U,t as k,h as c,i as R}from"./index-057104a9.js";import{B as q}from"./book-open-214ef39a.js";const E={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800"},P={class:"max-w-md w-full space-y-8 p-8"},j={class:"text-center"},B={class:"mx-auto h-12 w-12 bg-blue-600 rounded-lg flex items-center justify-center"},F={class:"space-y-4"},M={class:"flex items-center justify-between"},D={class:"flex items-center"},N={key:0,class:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg"},_=["disabled"],$={key:0},z={key:1},J={class:"mt-6 text-center"},O={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},T={class:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4"},Y={key:0,class:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm"},G={class:"flex space-x-3"},H=["disabled"],I={key:0},K={key:1},Q={key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},W={class:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-sm w-full mx-4"},X={class:"flex space-x-3"},se={__name:"Login",setup(Z){const w=V(),i=A(),d=u({email:"",password:"",remember:!1}),m=u(""),y=u(!1),g=u(""),x=u(!1),v=u(""),r=u({name:"",email:"",password:"",role:"super_admin"}),h=async()=>{m.value="";const a=await i.login({email:d.value.email,password:d.value.password});a.success?w.push("/dashboard"):m.value=a.message},S=async()=>{if(!g.value)return;const a=await i.forgotPassword(g.value);a.success?(y.value=!1,g.value=""):m.value=a.message},C=async()=>{v.value="";const a=await i.register({name:r.value.name,email:r.value.email,password:r.value.password,role:r.value.role});a.success?(x.value=!1,r.value={name:"",email:"",password:"",role:"super_admin"},m.value="Account created successfully! You can now sign in."):v.value=a.message};return(a,e)=>(l(),o("div",E,[t("div",P,[t("div",j,[t("div",B,[L(p(q),{class:"h-8 w-8 text-white"})]),e[12]||(e[12]=t("h2",{class:"mt-6 text-3xl font-bold text-gray-900 dark:text-white"}," Learnroot Admin ",-1)),e[13]||(e[13]=t("p",{class:"mt-2 text-sm text-gray-600 dark:text-gray-400"}," Sign in to your admin dashboard ",-1))]),t("form",{class:"mt-8 space-y-6",onSubmit:f(h,["prevent"])},[t("div",F,[t("div",null,[e[14]||(e[14]=t("label",{for:"email",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Email address ",-1)),n(t("input",{id:"email","onUpdate:modelValue":e[0]||(e[0]=s=>d.value.email=s),type:"email",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-800 dark:border-gray-600 dark:text-white",placeholder:"admin@learnroot.com"},null,512),[[b,d.value.email]])]),t("div",null,[e[15]||(e[15]=t("label",{for:"password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Password ",-1)),n(t("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=s=>d.value.password=s),type:"password",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-800 dark:border-gray-600 dark:text-white",placeholder:"••••••••"},null,512),[[b,d.value.password]])])]),t("div",M,[t("div",D,[n(t("input",{id:"remember","onUpdate:modelValue":e[2]||(e[2]=s=>d.value.remember=s),type:"checkbox",class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,512),[[U,d.value.remember]]),e[16]||(e[16]=t("label",{for:"remember",class:"ml-2 block text-sm text-gray-900 dark:text-gray-300"}," Remember me ",-1))]),t("button",{type:"button",onClick:e[3]||(e[3]=s=>y.value=!0),class:"text-sm text-blue-600 hover:text-blue-500 dark:text-blue-400"}," Forgot password? ")]),m.value?(l(),o("div",N,k(m.value),1)):c("",!0),t("button",{type:"submit",disabled:p(i).isLoading,class:"w-full btn btn-primary py-3 text-lg"},[p(i).isLoading?(l(),o("span",$,"Signing in...")):(l(),o("span",z,"Sign in"))],8,_),t("div",J,[e[17]||(e[17]=t("span",{class:"text-sm text-gray-600 dark:text-gray-400"}," Don't have an account? ",-1)),t("button",{type:"button",onClick:e[4]||(e[4]=s=>x.value=!0),class:"ml-1 text-sm text-blue-600 hover:text-blue-500 dark:text-blue-400 font-medium"}," Sign up ")])],32),x.value?(l(),o("div",O,[t("div",T,[e[23]||(e[23]=t("h3",{class:"text-lg font-semibold mb-4 dark:text-white"},"Create Admin Account",-1)),t("form",{onSubmit:f(C,["prevent"]),class:"space-y-4"},[t("div",null,[e[18]||(e[18]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Full Name ",-1)),n(t("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>r.value.name=s),type:"text",required:"",placeholder:"John Doe",class:"w-full px-3 py-2 border border-gray-300 rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,512),[[b,r.value.name]])]),t("div",null,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Email Address ",-1)),n(t("input",{"onUpdate:modelValue":e[6]||(e[6]=s=>r.value.email=s),type:"email",required:"",placeholder:"admin@learnroot.com",class:"w-full px-3 py-2 border border-gray-300 rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,512),[[b,r.value.email]])]),t("div",null,[e[20]||(e[20]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Password ",-1)),n(t("input",{"onUpdate:modelValue":e[7]||(e[7]=s=>r.value.password=s),type:"password",required:"",placeholder:"••••••••",class:"w-full px-3 py-2 border border-gray-300 rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,512),[[b,r.value.password]])]),t("div",null,[e[22]||(e[22]=t("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"}," Role ",-1)),n(t("select",{"onUpdate:modelValue":e[8]||(e[8]=s=>r.value.role=s),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg dark:bg-gray-700 dark:border-gray-600 dark:text-white"},[...e[21]||(e[21]=[t("option",{value:"super_admin"},"Super Admin",-1),t("option",{value:"school_admin"},"School Admin",-1),t("option",{value:"moderator"},"Moderator",-1)])],512),[[R,r.value.role]])]),v.value?(l(),o("div",Y,k(v.value),1)):c("",!0),t("div",G,[t("button",{type:"submit",disabled:p(i).isLoading,class:"flex-1 btn btn-primary"},[p(i).isLoading?(l(),o("span",I,"Creating...")):(l(),o("span",K,"Create Account"))],8,H),t("button",{type:"button",onClick:e[9]||(e[9]=s=>x.value=!1),class:"flex-1 btn btn-secondary"}," Cancel ")])],32)])])):c("",!0),y.value?(l(),o("div",Q,[t("div",W,[e[24]||(e[24]=t("h3",{class:"text-lg font-semibold mb-4 dark:text-white"},"Reset Password",-1)),e[25]||(e[25]=t("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-4"}," Enter your email address and we'll send you a link to reset your password. ",-1)),n(t("input",{"onUpdate:modelValue":e[10]||(e[10]=s=>g.value=s),type:"email",placeholder:"your@email.com",class:"w-full px-3 py-2 border border-gray-300 rounded-lg mb-4 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},null,512),[[b,g.value]]),t("div",X,[t("button",{onClick:S,class:"flex-1 btn btn-primary"}," Send Reset Link "),t("button",{onClick:e[11]||(e[11]=s=>y.value=!1),class:"flex-1 btn btn-secondary"}," Cancel ")])])])):c("",!0)])]))}};export{se as default};
